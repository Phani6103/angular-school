<div>
    <h2>Reactive Form</h2>
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
        <input type="text" formControlName="name" placeholder="Enter your name"
            [ngClass]="{'error-field': signupForm.get('name')?.invalid && signupForm.get('name')?.touched}" />
        <p [class.mb-0]="signupForm.get('name')?.invalid && signupForm.get('name')?.touched">Your name is: {{ signupForm.value.name }}</p>
        <p *ngIf="signupForm.get('name')?.errors?.['required'] && signupForm.get('name')?.touched" style="color: red;">Name is required.</p>

        <input type="text" formControlName="email" placeholder="Enter your email"
            [ngClass]="{'error-field': signupForm.get('email')?.invalid && signupForm.get('email')?.touched}" />
        <p [class.mb-0]="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">Your email is: {{ signupForm.value.email }}</p>
        <p *ngIf="signupForm.get('email')?.errors?.['required'] && signupForm.get('email')?.touched" style="color: red;">Email is required.</p>
        <p *ngIf="signupForm.get('email')?.errors?.['email'] && signupForm.get('email')?.touched" style="color: red;">Please enter a valid email address.</p>

        <input type="password" formControlName="password" placeholder="Enter your password"
            [ngClass]="{'error-field': signupForm.get('password')?.invalid && signupForm.get('password')?.touched}" />
        <p [class.mb-0]="signupForm.get('password')?.invalid && signupForm.get('password')?.touched">Your password is: {{ signupForm.value.password }}</p>
        <p *ngIf="signupForm.get('password')?.errors?.['required'] && signupForm.get('password')?.touched" style="color: red;">Password is required.</p>
        <p *ngIf="signupForm.get('password')?.errors?.['minlength'] && signupForm.get('password')?.touched" style="color: red;">Password must be at least 8 characters long.</p>
        <p *ngIf="signupForm.get('password')?.errors?.['hasUppercase'] && signupForm.get('password')?.touched" style="color: red;">Password must contain at least one uppercase letter.</p>
        <p *ngIf="signupForm.get('password')?.errors?.['hasLowercase'] && signupForm.get('password')?.touched" style="color: red;">Password must contain at least one lowercase letter.</p>
        <p *ngIf="signupForm.get('password')?.errors?.['hasNumber'] && signupForm.get('password')?.touched" style="color: red;">Password must contain at least one number.</p>
        <p *ngIf="signupForm.get('password')?.errors?.['hasSpecialChar'] && signupForm.get('password')?.touched" style="color: red;">Password must contain at least one special character.</p>

        <input type="password" formControlName="confirmPassword" placeholder="Confirm your password"
            [ngClass]="{'error-field': signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.touched}" />
        <p [class.mb-0]="signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.touched">Confirm your password: {{ signupForm.value.confirmPassword }}</p>
        <p *ngIf="signupForm.get('confirmPassword')?.errors?.['required'] && signupForm.get('confirmPassword')?.touched" style="color: red;">Confirm Password is required.</p>
        <p *ngIf="signupForm.errors?.['mismatch'] && signupForm.get('confirmPassword')?.touched" style="color: red;">Passwords do not match.</p>

        <p>
            <input type="checkbox" formControlName="optInForNewsletter" />
            Opt-in for newsletter
        </p>

        <p *ngIf="signupForm.invalid && signupForm.touched" style="color: red;">
            Please fill out all required fields and ensure all validations pass before submitting.
        </p>

        <button [ngClass]="signupForm.valid ? 'btn btn-primary me-3' : 'btn btn-secondary me-3'" [disabled]="signupForm.invalid" type="submit">Submit</button>
        <button class="btn btn-secondary" (click)="resetForm()">Reset Form</button>
    </form>
</div>

<style>
    input {
        margin-bottom: 2px; /* Reduced margin */
        padding: 5px;
    }

    .error-field {
        border: 1px solid red;
    }
</style>
